<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="stylesheet" href="css/style.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TD PMS - Travaux Dirig√©s Complets | GRETA GIP-FIPAN</title>
  
  <style>
    :root {
      --bleu-gip: #0055a4;
      --bleu-fonce: #003a78;
      --orange-gip: #f39200;
      --gris-fond: #f5f6f8;
      --blanc-carte: #ffffff;
      --texte-fonce: #2c3e50;
      --vert: #28a745;
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: 'Marianne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: var(--gris-fond);
      color: var(--texte-fonce);
      line-height: 1.6;
    }
    
    header {
      background: linear-gradient(135deg, var(--bleu-fonce) 0%, var(--bleu-gip) 50%, #0066cc 100%);
      color: white;
      padding: 1.5rem 1rem;
      border-bottom: 5px solid var(--orange-gip);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .branding {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    
    .logos { display: flex; align-items: center; gap: 1rem; }
    .logos img { height: 50px; }
    
    .header-text h1 { font-size: 1.5rem; margin-bottom: 0.3rem; }
    .header-text p { font-size: 0.9rem; opacity: 0.9; }
    
    .nav-links {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    
    .nav-links a {
      padding: 0.5rem 1rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.4);
      color: white;
      text-decoration: none;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    .nav-links a:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-2px);
    }
    
    main {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem 3rem;
    }
    
    .intro-card {
      background: var(--blanc-carte);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      border: 1px solid #dde1e7;
      margin-bottom: 2rem;
    }
    
    .intro-card h2 {
      color: var(--bleu-gip);
      font-size: 1.8rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .alert-info {
      background: #e8f4fd;
      border-left: 5px solid var(--bleu-gip);
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin: 1.5rem 0;
    }
    
    .progress-container {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      margin-bottom: 2rem;
      position: sticky;
      top: 100px;
      z-index: 100;
    }
    
    .progress-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .progress-step {
      flex: 1;
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      position: relative;
      transition: all 0.3s;
    }
    
    .progress-step.completed {
      background: var(--vert);
    }
    
    .progress-step.active {
      background: var(--orange-gip);
    }
    
    .progress-label {
      font-size: 0.85rem;
      color: #666;
      text-align: center;
      margin-top: 0.5rem;
    }
    
    .step-card {
      background: var(--blanc-carte);
      border-radius: 16px;
      padding: 2.5rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      border: 1px solid #dde1e7;
      margin-bottom: 2rem;
      display: none;
    }
    
    .step-card.active {
      display: block;
      animation: fadeIn 0.5s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .step-card h3 {
      color: var(--bleu-gip);
      font-size: 1.6rem;
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 3px solid var(--orange-gip);
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .form-group {
      margin: 1.5rem 0;
    }
    
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--texte-fonce);
    }
    
    .form-group input[type="text"],
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #dde1e7;
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.3s;
    }
    
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--bleu-gip);
      box-shadow: 0 0 0 3px rgba(0,85,164,0.1);
    }
    
    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      background: white;
    }
    
    table th {
      background: var(--bleu-gip);
      color: white;
      padding: 0.75rem;
      text-align: left;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    table td {
      padding: 0.75rem;
      border-bottom: 1px solid #dde1e7;
    }
    
    table input[type="text"],
    table select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #dde1e7;
      border-radius: 4px;
      font-size: 0.9rem;
    }
    
    .checkbox-group {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      margin: 1rem 0;
    }
    
    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .checkbox-item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }
    
    .diagnostic-grid {
      display: grid;
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .diagnostic-row {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      align-items: center;
    }
    
    .diagnostic-row label {
      font-weight: 600;
    }
    
    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: 999px;
      font-weight: 600;
      font-size: 0.95rem;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-primary {
      background: var(--bleu-gip);
      color: white;
    }
    
    .btn-primary:hover {
      background: var(--bleu-fonce);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,85,164,0.3);
    }
    
    .btn-secondary {
      background: white;
      color: var(--bleu-gip);
      border: 2px solid var(--bleu-gip);
    }
    
    .btn-secondary:hover {
      background: var(--bleu-gip);
      color: white;
    }
    
    .btn-success {
      background: var(--vert);
      color: white;
    }
    
    .btn-group {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }
    
    .info-box {
      background: #fff3cd;
      border-left: 5px solid #ffc107;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
    }
    
    footer {
      background: var(--texte-fonce);
      color: white;
      padding: 2rem 1rem;
      text-align: center;
      margin-top: 4rem;
    }
    
    footer a {
      color: var(--orange-gip);
      text-decoration: none;
    }
    
    @media (max-width: 768px) {
      .diagnostic-row {
        grid-template-columns: 1fr;
      }
      
      .progress-bar {
        flex-wrap: wrap;
      }
      
      .btn-group {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
    }
    
    @media print {
      header, .progress-container, .btn-group, footer {
        display: none !important;
      }
      
      .step-card {
        display: block !important;
        page-break-after: always;
        box-shadow: none;
        border: 1px solid #ccc;
      }
    }
  </style>
  <link rel="stylesheet" href="assets/core/core.css">
</head>
<body>

  <header class="core-header">
  <div class="core-container core-header-top">
    <div class="core-branding">
      <img src="images/logo-republique.png" alt="R√©publique Fran√ßaise" class="core-logo-rf">
      <div class="core-brand-text">
        <p class="core-kicker">GRETA GIP-FIPAN ‚Ä¢ Acad√©mie de Nice</p>
        <h1>üìö Plateforme PMS</h1>
      </div>
      <img src="images/logoFORPROPaca.png" alt="FORPRO PACA" class="core-logo-forpro">
    </div>
  </div>
  <nav class="core-main-nav" aria-label="Navigation principale">
    <div class="core-container core-nav-wrap">
      <a href="/plateforme-pms2/" class="core-nav-link">üè† Hub</a>
      <a href="/plateforme-pms2/cours-pms.html" class="core-nav-link is-active">üìò Formation</a>
      <a href="/plateforme-pms2/outils-modeles.html" class="core-nav-link">üß∞ Outils</a>
      <a href="/plateforme-pms2/documents-pms.html" class="core-nav-link">üìÇ Ressources</a>
    </div>
  </nav>
</header>
<section class="app-hero app-hero--formation">
  <div class="core-container">
    <h2 class="app-hero-title">Travaux dirig√©s PMS</h2>
    <p class="app-hero-sub">Mise en pratique guid√©e des proc√©dures et contr√¥les.</p>
    <div class="app-kpis">
      <span class="app-kpi">Objectif:Application terrain</span><span class="app-kpi">√âtape:Exercices</span><span class="app-kpi">Dur√©e:Atelier</span><span class="app-kpi">Statut:Actif</span>
    </div>
  </div>
</section>


  <main class="workspace">
    
    <!-- Introduction -->
    <div class="intro-card card-module panel panel--work">
      <h2>üéØ Construire son Plan de Ma√Ætrise Sanitaire</h2>
      
      <div class="alert-info">
        <p><strong>Objectif de la journ√©e :</strong> √Ä la fin du TD, vous serez capable de structurer et r√©diger les √©l√©ments essentiels de votre PMS, adapt√©s √† votre activit√© de restauration.</p>
      </div>
      
      <div class="form-group">
        <label>üë§ Nom / Pr√©nom :</label>
        <input type="text" id="nom" placeholder="Votre nom complet">
      </div>
      
      <div class="form-group">
        <label>üçΩÔ∏è √âtablissement :</label>
        <input type="text" id="etablissement" placeholder="Nom de votre restaurant / √©tablissement">
      </div>
      
      <div class="form-group">
        <label>üìÖ Date :</label>
        <input type="date" id="date">
      </div>
      
      <div class="info-box">
        <p><strong>üí° Conseil :</strong> Vos r√©ponses sont automatiquement sauvegard√©es dans votre navigateur. Vous pouvez revenir compl√©ter ce TD ult√©rieurement.</p>
      </div>
    </div>
    <section class="panel panel--info context-panel">
      <h3>Contexte m√©tier</h3>
      <img src="assets/images/contexte-atelier.svg" alt="Pictogramme atelier de mise en pratique" class="context-visual">
    </section>

    <!-- Barre de progression -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar">
        <div class="progress-step completed" data-step="1"></div>
        <div class="progress-step" data-step="2"></div>
        <div class="progress-step" data-step="3"></div>
        <div class="progress-step" data-step="4"></div>
        <div class="progress-step" data-step="5"></div>
        <div class="progress-step" data-step="6"></div>
      </div>
      <div class="progress-label" id="progressLabel">√âtape 1/6 : Diagnostic Initial</div>
    </div>

    <!-- √âTAPE 1: Diagnostic Initial -->
    <div class="step-card card-section active" id="step1">
      <h3>üïò √âtape 1 : Diagnostic Initial (9h00-9h30)</h3>
      
      <p style="margin-bottom: 1.5rem;">
        <strong>Objectif :</strong> Faire le point sur votre niveau actuel en mati√®re de PMS.
      </p>
      
      <div class="diagnostic-grid">
        <div class="diagnostic-row">
          <label><strong>Domaine</strong></label>
          <label>D√©j√† en place</label>
          <label>√Ä am√©liorer</label>
          <label>Absent</label>
        </div>
        
        <div class="diagnostic-row">
          <label>Plan de nettoyage et d√©sinfection</label>
          <input type="checkbox" name="diag_nettoyage" value="place">
          <input type="checkbox" name="diag_nettoyage" value="ameliorer">
          <input type="checkbox" name="diag_nettoyage" value="absent">
        </div>
        
        <div class="diagnostic-row">
          <label>Suivi des temp√©ratures</label>
          <input type="checkbox" name="diag_temperatures" value="place">
          <input type="checkbox" name="diag_temperatures" value="ameliorer">
          <input type="checkbox" name="diag_temperatures" value="absent">
        </div>
        
        <div class="diagnostic-row">
          <label>Tra√ßabilit√© produits</label>
          <input type="checkbox" name="diag_tracabilite" value="place">
          <input type="checkbox" name="diag_tracabilite" value="ameliorer">
          <input type="checkbox" name="diag_tracabilite" value="absent">
        </div>
        
        <div class="diagnostic-row">
          <label>Proc√©dures hygi√®ne du personnel</label>
          <input type="checkbox" name="diag_personnel" value="place">
          <input type="checkbox" name="diag_personnel" value="ameliorer">
          <input type="checkbox" name="diag_personnel" value="absent">
        </div>
        
        <div class="diagnostic-row">
          <label>M√©thode HACCP</label>
          <input type="checkbox" name="diag_haccp" value="place">
          <input type="checkbox" name="diag_haccp" value="ameliorer">
          <input type="checkbox" name="diag_haccp" value="absent">
        </div>
      </div>
      
      <div class="form-group">
        <label>üí¨ Commentaires / Points √† am√©liorer en priorit√© :</label>
        <textarea id="diag_commentaires" placeholder="Notez vos observations..."></textarea>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-primary" onclick="nextStep(2)">√âtape suivante ‚Üí</button>
      </div>
    </div>

    <!-- √âTAPE 2: Structurer son PMS -->
    <div class="step-card card-section" id="step2">
      <h3>üß± √âtape 2 : Structurer son PMS (9h30-10h45)</h3>
      
      <p style="margin-bottom: 1.5rem;">
        <strong>Objectif :</strong> Identifier les composantes de votre PMS et planifier leur r√©daction.
      </p>
      
      <div class="alert-info">
        <p><strong>Sommaire-type √† personnaliser</strong> : Cochez les parties que vous aurez r√©dig√©es pendant la journ√©e.</p>
      </div>
      
      <table>
        <thead>
          <tr>
            <th>Partie du PMS</th>
            <th>Objectif</th>
            <th style="width: 80px; text-align: center;">Fait ?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Pr√©sentation de l'√©tablissement</strong></td>
            <td>Identification, locaux, activit√©s</td>
            <td style="text-align: center;"><input type="checkbox" name="struct_presentation"></td>
          </tr>
          <tr>
            <td><strong>Bonnes pratiques d'hygi√®ne (BPH)</strong></td>
            <td>Nettoyage, personnel, locaux</td>
            <td style="text-align: center;"><input type="checkbox" name="struct_bph"></td>
          </tr>
          <tr>
            <td><strong>Plan HACCP</strong></td>
            <td>Analyse des dangers et CCP</td>
            <td style="text-align: center;"><input type="checkbox" name="struct_haccp"></td>
          </tr>
          <tr>
            <td><strong>Tra√ßabilit√© et enregistrements</strong></td>
            <td>Fiches, relev√©s, archivage</td>
            <td style="text-align: center;"><input type="checkbox" name="struct_tracabilite"></td>
          </tr>
          <tr>
            <td><strong>Non-conformit√©s / gestion de crise</strong></td>
            <td>Actions correctives, TIAC, rappel</td>
            <td style="text-align: center;"><input type="checkbox" name="struct_nc"></td>
          </tr>
        </tbody>
      </table>
      
      <div class="form-group">
        <label>üéØ Mes priorit√©s pour finaliser mon PMS :</label>
        <textarea id="struct_priorites" placeholder="Ex: Finaliser le plan HACCP, cr√©er les fiches de tra√ßabilit√©..."></textarea>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-secondary" onclick="nextStep(1)">‚Üê √âtape pr√©c√©dente</button>
        <button class="btn btn-primary" onclick="nextStep(3)">√âtape suivante ‚Üí</button>
      </div>
    </div>

    <!-- √âTAPE 3: Bonnes Pratiques d'Hygi√®ne -->
    <div class="step-card card-section" id="step3">
      <h3>üß¥ √âtape 3 : Bonnes Pratiques d'Hygi√®ne (11h00-12h15)</h3>
      
      <p style="margin-bottom: 1.5rem;">
        <strong>Objectif :</strong> R√©diger vos proc√©dures fondamentales de BPH.
      </p>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">üßΩ Mon plan de nettoyage et de d√©sinfection</h4>
      
      <table id="tablePND">
        <thead>
          <tr>
            <th>Zone / Mat√©riel</th>
            <th>Produit utilis√©</th>
            <th>Fr√©quence</th>
            <th>Responsable</th>
            <th>V√©rification</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="pnd_zone_1" placeholder="Ex: Plan de travail"></td>
            <td><input type="text" name="pnd_produit_1" placeholder="Ex: D√©tergent + d√©sinfectant"></td>
            <td><input type="text" name="pnd_freq_1" placeholder="Ex: Apr√®s chaque usage"></td>
            <td><input type="text" name="pnd_resp_1" placeholder="Ex: √âquipe cuisine"></td>
            <td><input type="text" name="pnd_verif_1" placeholder="Ex: Chef"></td>
          </tr>
          <tr>
            <td><input type="text" name="pnd_zone_2"></td>
            <td><input type="text" name="pnd_produit_2"></td>
            <td><input type="text" name="pnd_freq_2"></td>
            <td><input type="text" name="pnd_resp_2"></td>
            <td><input type="text" name="pnd_verif_2"></td>
          </tr>
          <tr>
            <td><input type="text" name="pnd_zone_3"></td>
            <td><input type="text" name="pnd_produit_3"></td>
            <td><input type="text" name="pnd_freq_3"></td>
            <td><input type="text" name="pnd_resp_3"></td>
            <td><input type="text" name="pnd_verif_3"></td>
          </tr>
          <tr>
            <td><input type="text" name="pnd_zone_4"></td>
            <td><input type="text" name="pnd_produit_4"></td>
            <td><input type="text" name="pnd_freq_4"></td>
            <td><input type="text" name="pnd_resp_4"></td>
            <td><input type="text" name="pnd_verif_4"></td>
          </tr>
        </tbody>
      </table>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">‚úã Mon protocole hygi√®ne du personnel</h4>
      <p style="font-size: 0.9rem; color: #666; margin-bottom: 1rem;">D√©crivez les proc√©dures : lavage des mains, tenue, gants, bijoux interdits, etc.</p>
      
      <div class="form-group">
        <textarea id="protocole_personnel" placeholder="Ex: Lavage des mains obligatoire en 7 √©tapes...
- Avant toute manipulation d'aliments
- Apr√®s passage aux toilettes
- Apr√®s manipulation de d√©chets
..."></textarea>
      </div>
      
      <div class="checkbox-group">
        <div class="checkbox-item">
          <input type="checkbox" id="verif_bph">
          <label for="verif_bph">‚úÖ V√©rifi√© par le formateur</label>
        </div>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-secondary" onclick="nextStep(2)">‚Üê √âtape pr√©c√©dente</button>
        <button class="btn btn-primary" onclick="nextStep(4)">√âtape suivante ‚Üí</button>
      </div>
    </div>

    <!-- √âTAPE 4: M√©thode HACCP -->
    <div class="step-card card-section" id="step4">
      <h3>üî¨ √âtape 4 : M√©thode HACCP (13h30-14h45)</h3>
      
      <p style="margin-bottom: 1.5rem;">
        <strong>Objectif :</strong> Identifier les dangers et les Points Critiques de Contr√¥le (CCP) sur un cas concret.
      </p>
      
      <div class="info-box">
        <p><strong>üí° Rappel :</strong> Un CCP est une √©tape o√π une mesure de contr√¥le est essentielle pour pr√©venir, √©liminer ou r√©duire un danger √† un niveau acceptable.</p>
      </div>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">üß† Mon tableau HACCP simplifi√©</h4>
      
      <table>
        <thead>
          <tr>
            <th>√âtape du process</th>
            <th>Danger identifi√©</th>
            <th>CCP ?</th>
            <th>Limite critique</th>
            <th>Action corrective</th>
            <th>Enregistrement</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="haccp_etape_1" placeholder="Ex: Cuisson"></td>
            <td><input type="text" name="haccp_danger_1" placeholder="Ex: Bact√©ries pathog√®nes"></td>
            <td style="width: 80px;">
              <select name="haccp_ccp_1">
                <option value="">-</option>
                <option value="oui">Oui</option>
                <option value="non">Non</option>
              </select>
            </td>
            <td><input type="text" name="haccp_limite_1" placeholder="Ex: T¬∞ ‚â• 63¬∞C √† c≈ìur"></td>
            <td><input type="text" name="haccp_action_1" placeholder="Ex: Prolonger cuisson"></td>
            <td><input type="text" name="haccp_enreg_1" placeholder="Ex: Fiche T¬∞"></td>
          </tr>
          <tr>
            <td><input type="text" name="haccp_etape_2"></td>
            <td><input type="text" name="haccp_danger_2"></td>
            <td>
              <select name="haccp_ccp_2">
                <option value="">-</option>
                <option value="oui">Oui</option>
                <option value="non">Non</option>
              </select>
            </td>
            <td><input type="text" name="haccp_limite_2"></td>
            <td><input type="text" name="haccp_action_2"></td>
            <td><input type="text" name="haccp_enreg_2"></td>
          </tr>
          <tr>
            <td><input type="text" name="haccp_etape_3"></td>
            <td><input type="text" name="haccp_danger_3"></td>
            <td>
              <select name="haccp_ccp_3">
                <option value="">-</option>
                <option value="oui">Oui</option>
                <option value="non">Non</option>
              </select>
            </td>
            <td><input type="text" name="haccp_limite_3"></td>
            <td><input type="text" name="haccp_action_3"></td>
            <td><input type="text" name="haccp_enreg_3"></td>
          </tr>
          <tr>
            <td><input type="text" name="haccp_etape_4"></td>
            <td><input type="text" name="haccp_danger_4"></td>
            <td>
              <select name="haccp_ccp_4">
                <option value="">-</option>
                <option value="oui">Oui</option>
                <option value="non">Non</option>
              </select>
            </td>
            <td><input type="text" name="haccp_limite_4"></td>
            <td><input type="text" name="haccp_action_4"></td>
            <td><input type="text" name="haccp_enreg_4"></td>
          </tr>
        </tbody>
      </table>
      
      <div class="checkbox-group" style="margin-top: 1.5rem;">
        <div class="checkbox-item">
          <input type="checkbox" id="verif_haccp">
          <label for="verif_haccp">‚úÖ V√©rifi√© par le formateur</label>
        </div>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-secondary" onclick="nextStep(3)">‚Üê √âtape pr√©c√©dente</button>
        <button class="btn btn-primary" onclick="nextStep(5)">√âtape suivante ‚Üí</button>
      </div>
    </div>

    <!-- √âTAPE 5: Tra√ßabilit√© & NC -->
    <div class="step-card card-section" id="step5">
      <h3>üì¶ √âtape 5 : Tra√ßabilit√© & Non-Conformit√©s (15h00-16h15)</h3>
      
      <p style="margin-bottom: 1.5rem;">
        <strong>Objectif :</strong> Documenter les suivis et la gestion des incidents.
      </p>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">üìã Ma fiche de tra√ßabilit√©</h4>
      
      <table>
        <thead>
          <tr>
            <th>Produit</th>
            <th>Fournisseur</th>
            <th>Date r√©ception</th>
            <th>DLC / DLUO</th>
            <th>Temp√©rature</th>
            <th>Signature</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="trac_produit_1" placeholder="Ex: Poulet frais"></td>
            <td><input type="text" name="trac_fournisseur_1" placeholder="Ex: METRO"></td>
            <td><input type="date" name="trac_date_1"></td>
            <td><input type="text" name="trac_dlc_1" placeholder="Ex: 20/01/2025"></td>
            <td><input type="text" name="trac_temp_1" placeholder="Ex: +2¬∞C"></td>
            <td><input type="text" name="trac_sign_1" placeholder="Initiales"></td>
          </tr>
          <tr>
            <td><input type="text" name="trac_produit_2"></td>
            <td><input type="text" name="trac_fournisseur_2"></td>
            <td><input type="date" name="trac_date_2"></td>
            <td><input type="text" name="trac_dlc_2"></td>
            <td><input type="text" name="trac_temp_2"></td>
            <td><input type="text" name="trac_sign_2"></td>
          </tr>
          <tr>
            <td><input type="text" name="trac_produit_3"></td>
            <td><input type="text" name="trac_fournisseur_3"></td>
            <td><input type="date" name="trac_date_3"></td>
            <td><input type="text" name="trac_dlc_3"></td>
            <td><input type="text" name="trac_temp_3"></td>
            <td><input type="text" name="trac_sign_3"></td>
          </tr>
        </tbody>
      </table>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">üö® Ma fiche de non-conformit√©</h4>
      
      <table>
        <thead>
          <tr>
            <th>Probl√®me constat√©</th>
            <th>Action imm√©diate</th>
            <th>Cause probable</th>
            <th>Mesure corrective</th>
            <th>V√©rification</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="text" name="nc_probleme_1" placeholder="Ex: T¬∞ chambre froide 8¬∞C"></td>
            <td><input type="text" name="nc_immediate_1" placeholder="Ex: D√©placer produits"></td>
            <td><input type="text" name="nc_cause_1" placeholder="Ex: Porte mal ferm√©e"></td>
            <td><input type="text" name="nc_corrective_1" placeholder="Ex: R√©gler fermeture"></td>
            <td><input type="text" name="nc_verif_1" placeholder="Ex: Contr√¥le 2h"></td>
          </tr>
          <tr>
            <td><input type="text" name="nc_probleme_2"></td>
            <td><input type="text" name="nc_immediate_2"></td>
            <td><input type="text" name="nc_cause_2"></td>
            <td><input type="text" name="nc_corrective_2"></td>
            <td><input type="text" name="nc_verif_2"></td>
          </tr>
        </tbody>
      </table>
      
      <div class="checkbox-group" style="margin-top: 1.5rem;">
        <div class="checkbox-item">
          <input type="checkbox" id="verif_trac">
          <label for="verif_trac">‚úÖ V√©rifi√© par le formateur</label>
        </div>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-secondary" onclick="nextStep(4)">‚Üê √âtape pr√©c√©dente</button>
        <button class="btn btn-primary" onclick="nextStep(6)">√âtape suivante ‚Üí</button>
      </div>
    </div>

    <!-- √âTAPE 6: Validation Finale -->
    <div class="step-card card-section" id="step6">
      <h3>‚úÖ √âtape 6 : Validation et Synth√®se (16h15-17h00)</h3>
      
      <div class="alert-info">
        <p><strong>F√©licitations !</strong> Vous avez compl√©t√© tous les exercices. Prenez un moment pour valider votre travail.</p>
      </div>
      
      <h4 style="color: var(--bleu-gip); margin-top: 2rem; margin-bottom: 1rem;">üìù Auto-√©valuation finale</h4>
      
      <div class="diagnostic-grid">
        <div class="diagnostic-row">
          <label><strong>J'ai compris...</strong></label>
          <label>Oui</label>
          <label>Partiellement</label>
          <label>√Ä revoir</label>
        </div>
        
        <div class="diagnostic-row">
          <label>La structure d'un PMS</label>
          <input type="checkbox" name="eval_structure" value="oui">
          <input type="checkbox" name="eval_structure" value="partiel">
          <input type="checkbox" name="eval_structure" value="revoir">
        </div>
        
        <div class="diagnostic-row">
          <label>Les Bonnes Pratiques d'Hygi√®ne</label>
          <input type="checkbox" name="eval_bph" value="oui">
          <input type="checkbox" name="eval_bph" value="partiel">
          <input type="checkbox" name="eval_bph" value="revoir">
        </div>
        
        <div class="diagnostic-row">
          <label>La m√©thode HACCP et les CCP</label>
          <input type="checkbox" name="eval_haccp_final" value="oui">
          <input type="checkbox" name="eval_haccp_final" value="partiel">
          <input type="checkbox" name="eval_haccp_final" value="revoir">
        </div>
        
        <div class="diagnostic-row">
          <label>La tra√ßabilit√© et les enregistrements</label>
          <input type="checkbox" name="eval_tracabilite" value="oui">
          <input type="checkbox" name="eval_tracabilite" value="partiel">
          <input type="checkbox" name="eval_tracabilite" value="revoir">
        </div>
        
        <div class="diagnostic-row">
          <label>La gestion des non-conformit√©s</label>
          <input type="checkbox" name="eval_nc" value="oui">
          <input type="checkbox" name="eval_nc" value="partiel">
          <input type="checkbox" name="eval_nc" value="revoir">
        </div>
      </div>
      
      <div class="form-group" style="margin-top: 2rem;">
        <label>üí¨ Mes questions / Points √† approfondir :</label>
        <textarea id="eval_questions" placeholder="Notez les points que vous souhaitez approfondir..."></textarea>
      </div>
      
      <div class="form-group">
        <label>üéØ Mon plan d'action pour mon √©tablissement :</label>
        <textarea id="eval_plan_action" placeholder="Ex: Finaliser mon plan de nettoyage d'ici la fin du mois, former l'√©quipe sur HACCP..."></textarea>
      </div>
      
      <div class="alert-info" style="margin-top: 2rem;">
        <p><strong>üì• Pour aller plus loin :</strong></p>
        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
          <li>Consultez le cours PMS complet</li>
          <li>Testez-vous avec le questionnaire d'√©valuation</li>
          <li>T√©l√©chargez la version PDF des TD pour impression</li>
        </ul>
      </div>
      
      <div class="btn-group card-actions panel panel--actions">
        <button class="btn btn-secondary" onclick="nextStep(5)">‚Üê √âtape pr√©c√©dente</button>
        <button class="btn btn-success" onclick="window.print()">üñ®Ô∏è Imprimer mon TD</button>
        <a href="#" class="btn btn-secondary" target="_blank">üìÑ Version PDF</a>
        <a href="questionnaire-pms.html" class="btn btn-primary">Passer au questionnaire ‚Üí</a>
      </div>
    </div>

  
<div class="card-actions panel panel--actions" style="text-align: center; margin: 3rem 0; padding: 2rem 0; border-top: 2px solid #dde1e7;">
  <a href="index.html" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem; display: inline-block; 
     background: var(--bleu-gip, #0055a4); color: white; text-decoration: none; border-radius: 999px; 
     font-weight: 600; transition: all 0.3s;"
     onmouseover="this.style.background='var(--bleu-fonce, #003a78)'"
     onmouseout="this.style.background='var(--bleu-gip, #0055a4)'">
    üè† Retour √† l'accueil
  </a>
</div>
</main>

  <footer class="core-footer">
  <div class="core-container core-footer-content">
    <div class="core-footer-logos">
      <img src="images/logo-republique.png" alt="R√©publique Fran√ßaise" class="core-footer-logo">
      <img src="images/logoFORPROPaca.png" alt="FORPRO PACA" class="core-footer-logo">
    </div>
    <div class="core-footer-info">
      <p><strong>Cr√©√© par Beno√Æt Deflandre</strong></p>
      <p>GRETA du Var / GIP FIPAN ‚Ä¢ Acad√©mie de Nice</p>
      <p><a href="mailto:benoit.deflandre@ac-nice.fr">benoit.deflandre@ac-nice.fr</a></p>
      <p class="core-version">Plateforme PMS V18.0 ‚Ä¢ Janvier 2025</p>
    </div>
  </div>
</footer>

  <script>
    // Navigation entre √©tapes
    function nextStep(stepNumber) {
      // Cacher toutes les √©tapes
      document.querySelectorAll('.step-card').forEach(card => {
        card.classList.remove('active');
      });
      
      // Afficher l'√©tape demand√©e
      document.getElementById('step' + stepNumber).classList.add('active');
      
      // Mettre √† jour la barre de progression
      updateProgress(stepNumber);
      
      // Sauvegarder l'√©tape
      localStorage.setItem('currentStep', stepNumber);
      
      // Sauvegarder les donn√©es
      saveData();
      
      // Scroll en haut
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Mise √† jour barre de progression
    function updateProgress(stepNumber) {
      const progressSteps = document.querySelectorAll('.progress-step');
      const progressLabel = document.getElementById('progressLabel');
      
      const stepLabels = [
        'Diagnostic Initial',
        'Structurer son PMS',
        'Bonnes Pratiques d\'Hygi√®ne',
        'M√©thode HACCP',
        'Tra√ßabilit√© & NC',
        'Validation Finale'
      ];
      
      progressSteps.forEach((step, index) => {
        const stepNum = index + 1;
        if (stepNum < stepNumber) {
          step.classList.add('completed');
          step.classList.remove('active');
        } else if (stepNum === stepNumber) {
          step.classList.add('active');
          step.classList.remove('completed');
        } else {
          step.classList.remove('completed', 'active');
        }
      });
      
      progressLabel.textContent = `√âtape ${stepNumber}/6 : ${stepLabels[stepNumber - 1]}`;
    }
    
    // Sauvegarde automatique
    function saveData() {
      const inputs = document.querySelectorAll('input[type="text"], input[type="date"], textarea, select');
      inputs.forEach(input => {
        if (input.id || input.name) {
          localStorage.setItem(input.id || input.name, input.value);
        }
      });
      
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        if (checkbox.id || checkbox.name) {
          localStorage.setItem(checkbox.id || checkbox.name, checkbox.checked);
        }
      });
    }
    
    // Restauration des donn√©es
    function loadData() {
      const inputs = document.querySelectorAll('input[type="text"], input[type="date"], textarea, select');
      inputs.forEach(input => {
        if (input.id || input.name) {
          const savedValue = localStorage.getItem(input.id || input.name);
          if (savedValue) input.value = savedValue;
        }
      });
      
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        if (checkbox.id || checkbox.name) {
          const savedValue = localStorage.getItem(checkbox.id || checkbox.name);
          if (savedValue === 'true') checkbox.checked = true;
        }
      });
      
      // Restaurer l'√©tape
      const savedStep = localStorage.getItem('currentStep');
      if (savedStep) {
        nextStep(parseInt(savedStep));
      }
    }
    
    // Gestion des checkbox exclusifs (une seule coch√©e par ligne)
    document.querySelectorAll('.diagnostic-row').forEach(row => {
      const checkboxes = row.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          if (this.checked) {
            checkboxes.forEach(cb => {
              if (cb !== this) cb.checked = false;
            });
          }
        });
      });
    });
    
    // Auto-save toutes les 30 secondes
    setInterval(saveData, 30000);
    
    // Charger les donn√©es au d√©marrage
    window.addEventListener('load', loadData);
    
    // Sauvegarder avant de quitter
    window.addEventListener('beforeunload', saveData);
  </script>


<!-- Bouton retour haut -->
<button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
        style="position: fixed; bottom: 20px; right: 20px; background: var(--bleu-gip, #0055a4); 
               color: white; border: none; border-radius: 50%; width: 50px; height: 50px; 
               font-size: 20px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
  